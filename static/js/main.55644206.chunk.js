(this.webpackJsonpcryptoid=this.webpackJsonpcryptoid||[]).push([[0],{1128:function(e,t){},1175:function(e,t){},1319:function(e,t){},1324:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(33),o=n.n(c),i=(n(578),n(579),n(53)),l=n(1363);var s=function(){return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"app__container"},r.a.createElement("h1",null,"CRYPTO ID"),r.a.createElement("div",{className:"app__button"},r.a.createElement(i.b,{style:{textDecoration:"none",color:"black"},to:"/login"},r.a.createElement(l.a,{style:{fontSize:"16px",padding:"5px 40px"},variant:"contained",color:"primary"},"Login")),r.a.createElement(i.b,{style:{textDecoration:"none",color:"black"},to:"/register"},r.a.createElement(l.a,{style:{fontSize:"16px",padding:"5px 20px"},variant:"outlined",color:"primary"},"Register")))),r.a.createElement("span",{style:{fontSize:"12px"}},"Designed & Developed By"),r.a.createElement("p",null,"Dhruv Nakum & AbdulBasit Hakimi"),r.a.createElement("br",null),r.a.createElement("p",null,"\xa9All rights reserved 2020"))},u=n(40),m=(n(584),n(213)),d=n.n(m),f=n(560),p=n.n(f),b=n(312),E=n(138),g=n.n(E);var h=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),s=Object(u.a)(o,2),m=s[0],f=s[1];return Object(a.useEffect)((function(){window.web3&&(window.web3=new g.a(window.web3.currentProvider),window.ethereum.enable(),1)||alert("Please install MetaMask to use this dApp!")}),[]),r.a.createElement("div",{className:"login"},r.a.createElement("form",{onSubmit:function(e){},className:"login__container"},r.a.createElement("h1",null,"Login"),r.a.createElement("div",{className:"login__input"},r.a.createElement("div",{className:"address"},r.a.createElement(p.a,{style:{marginRight:"10px"}}),r.a.createElement(b.a,{className:"textfield",value:m,onChange:function(e){f(e.target.value)},label:"Enter Institute Address"})),r.a.createElement("div",{className:"name"},r.a.createElement(d.a,{style:{marginRight:"10px"}}),r.a.createElement(b.a,{className:"textfield",value:n,onChange:function(e){c(e.target.value)},label:"Enter Institute Name"}))),r.a.createElement("div",{className:"login__button"},r.a.createElement(i.b,{style:{textDecoration:"none",color:"black"},to:{pathname:"/home",instituteName:{instituteName:n},instituteAddress:{instituteAddress:m}}},r.a.createElement(l.a,{style:{fontSize:"16px",padding:"5px 40px"},variant:"contained",color:"primary"},"Login"))),r.a.createElement(i.b,{style:{textDecoration:"none",color:"black"},to:"/register"},r.a.createElement("p",null,"Doesn't have an account ?"))))},v=n(48),y=n.n(v),w=n(142),N=(n(849),n(139)),x=n(143),O=n(34);var j=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],o=Object(O.f)();Object(a.useEffect)((function(){window.web3&&(window.web3=new g.a(window.web3.currentProvider),window.ethereum.enable(),1)||alert("Please install MetaMask to use this dApp!")}),[]);var s=function(){var e=Object(w.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.eth.getAccounts();case 2:if(a=e.sent,console.log("Sending from Metamask account: "+a),!n){e.next=9;break}return e.next=7,x.a.methods.registerInstitute(n).send({from:a[0]},(function(e,t){console.log("Transaction Hash : ".concat(t)),t?(alert("Registration Completed"),o.push("/login")):alert("Registration Failed")}));case 7:e.next=10;break;case 9:alert("Please enter Institute Name");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"register"},r.a.createElement("div",{className:"register__container"},r.a.createElement("h1",null,"Register"),r.a.createElement("form",{onSubmit:s,className:"register__input"},r.a.createElement("div",{className:"name"},r.a.createElement(d.a,{style:{marginRight:"10px"}}),r.a.createElement(b.a,{className:"textfield",value:n,onChange:function(e){c(e.target.value)},label:"Enter Institute Name"}))),r.a.createElement("div",{className:"register__button"},r.a.createElement(i.b,{style:{textDecoration:"none",color:"black"},to:{pathname:"/login",instituteName:{instituteName:n}}},r.a.createElement(l.a,{onClick:s,type:"submit",style:{fontSize:"16px",padding:"5px 40px"},variant:"contained",color:"primary"},"Register"))),r.a.createElement(i.b,{style:{textDecoration:"none",color:"black"},to:"/login"},r.a.createElement("p",null,"Already have an account ?"))))},S=n(561);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(O.c,null,r.a.createElement(O.a,{exact:!0,path:"/",component:s}),r.a.createElement(O.a,{path:"/login",component:h}),r.a.createElement(O.a,{path:"/register",component:j}),r.a.createElement(O.a,{path:"/home",component:S.a}))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},139:function(e,t,n){"use strict";var a=n(138),r=new(n.n(a).a)(window.web3.currentProvider);t.a=r},143:function(e,t,n){"use strict";var a=n(139);t.a=new a.a.eth.Contract([{inputs:[{internalType:"uint256",name:"enrollmentNumber",type:"uint256"},{internalType:"string",name:"ipfsHash",type:"string"},{internalType:"string",name:"_instituteName",type:"string"}],name:"newIdentityCard",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_instituteName",type:"string"}],name:"registerInstitute",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"uint256",name:"enrollmentNumber",type:"uint256"},{internalType:"address",name:"instituteAddress",type:"address"}],name:"getIdentityCard",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],"0x7FDD9C6207a1723Eb167596568cd80E74c15664E")},280:function(e,t){},509:function(e,t){},543:function(e,t){},561:function(e,t,n){"use strict";(function(e){var a=n(48),r=n.n(a),c=n(142),o=n(40),i=n(0),l=n.n(i),s=n(34),u=(n(850),n(312)),m=n(566),d=n(565),f=n(1326),p=n(139),b=n(562),E=n(143);t.a=function(t){Object(i.useEffect)((function(){ie()}),[]);var n=Object(s.f)(),a=Object(i.useState)(""),g=Object(o.a)(a,2),h=g[0],v=g[1],y=Object(i.useState)(""),w=Object(o.a)(y,2),N=w[0],x=w[1],O=Object(i.useState)(),j=Object(o.a)(O,2),S=j[0],_=j[1],k=Object(i.useState)(""),I=Object(o.a)(k,2),C=I[0],A=I[1],D=Object(i.useState)(),P=Object(o.a)(D,2),T=P[0],M=P[1],R=Object(i.useState)(!1),F=Object(o.a)(R,2),H=F[0],B=F[1],W=Object(i.useState)(!1),z=Object(o.a)(W,2),G=z[0],L=z[1],Y=Object(i.useState)(""),J=Object(o.a)(Y,2),$=J[0],q=J[1],K=Object(i.useState)(null),Q=Object(o.a)(K,2),U=(Q[0],Q[1]),V=Object(i.useState)(""),X=Object(o.a)(V,2),Z=(X[0],X[1]),ee=Object(i.useState)(),te=Object(o.a)(ee,2),ne=(te[0],te[1]),ae=Object(i.useState)(null),re=Object(o.a)(ae,2),ce=re[0],oe=re[1],ie=function(){t.location.instituteName?(v(t.location.instituteName.instituteName),x(t.location.instituteAddress.instituteAddress)):n.push("/login")},le=function(){var t=Object(c.a)(r.a.mark((function t(n){var a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.from(n.result);case 2:a=t.sent,q(a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),se=function(){var e=Object(c.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,p.a.eth.getAccounts();case 3:return n=e.sent,a=E.a.options.address,Z({ethAddress:a}),console.log(a),e.next=9,b.a.add($,(function(e,t){console.log("Error: ".concat(e,", ipfsHash: ").concat(t)),console.log(t),U(t[0].hash);var a=t[0].hash;console.log("Institute Name"+h),E.a.methods.newIdentityCard(C,a,h).send({from:n[0]},(function(e,t){console.log("Transaction Hash : ".concat(t)),console.log("IPFS Hash : ".concat(a)),ne({transactionHash:t}),B(!1),alert("Student Added Successfully")}))}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.methods.getIdentityCard(T,S).call();case 2:t=e.sent,console.log(t),""!=t?(oe(t),alert("Student verified")):alert("Student not verified");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return l.a.createElement("div",{className:"home"},l.a.createElement("div",{className:"home__header"},l.a.createElement("h1",null,"CRYPTO ID")),H?l.a.createElement(m.a,{open:H,onClose:function(){return B(!1)}},l.a.createElement(f.a,null,"Student Details"),l.a.createElement(d.a,{className:"dialog__content"},l.a.createElement(u.a,{value:C,onChange:function(e){A(e.target.value)},autoFocus:!0,margin:"dense",id:"name",label:"Student Enrollment Number",fullWidth:!0}),l.a.createElement("h3",null," Choose file to send to IPFS "),l.a.createElement("form",{className:"addStudentForm",onSubmit:se},l.a.createElement("input",{type:"file",onChange:function(e){e.stopPropagation(),e.preventDefault();var t=e.target.files[0],n=new window.FileReader;n.readAsArrayBuffer(t),n.onloadend=function(){return le(n)}}}),l.a.createElement("button",{type:"submit"},"Add")))):l.a.createElement("form",{className:"home__body"},l.a.createElement("div",{className:"body__input"},l.a.createElement("p",null,"Institute Name"),l.a.createElement("p",null,null!==h&&void 0!==h?h:"")),l.a.createElement("div",{className:"body__input"},l.a.createElement("p",null,"Institute Address"),l.a.createElement("p",null,null!==N&&void 0!==N?N:""))),G?l.a.createElement(m.a,{open:G,onClose:function(){return L(!1)}},l.a.createElement(d.a,{className:"dialog__content"},l.a.createElement(u.a,{value:T,onChange:function(e){M(e.target.value)},autoFocus:!0,margin:"dense",id:"name",label:"Student Enrollment Number",fullWidth:!0}),l.a.createElement(u.a,{value:S,onChange:function(e){_(e.target.value)},margin:"dense",id:"name",label:"Institute Address",fullWidth:!0}),ce?l.a.createElement("div",{style:{width:"400px",height:"100px",wordWrap:"break-word",alignItems:"center"}},l.a.createElement("h3",null,"Your IPFS hash is:",l.a.createElement("br",null),ce),l.a.createElement("a",{href:"https://gateway.ipfs.io/ipfs/"+ce},"Get your ID")):l.a.createElement("div",null),";",l.a.createElement("button",{onClick:ue},"Get"))):l.a.createElement("div",null),l.a.createElement("div",{className:"home__button"},l.a.createElement("button",{onClick:function(){return B(!0)}},"Add New Student ID"),l.a.createElement("button",{onClick:function(){return L(!0)}},"Get Student ID")))}}).call(this,n(2).Buffer)},562:function(e,t,n){"use strict";var a=n(563),r=new(n.n(a).a)({host:"ipfs.infura.io",port:5001,protocol:"https"});t.a=r},573:function(e,t,n){e.exports=n(1324)},578:function(e,t,n){},579:function(e,t,n){},584:function(e,t,n){},595:function(e,t){},602:function(e,t){},620:function(e,t){},622:function(e,t){},638:function(e,t){},639:function(e,t){},641:function(e,t){},642:function(e,t){},713:function(e,t){},715:function(e,t){},724:function(e,t){},726:function(e,t){},751:function(e,t){},753:function(e,t){},759:function(e,t){},760:function(e,t){},762:function(e,t){},774:function(e,t){},777:function(e,t){},782:function(e,t){},793:function(e,t){},796:function(e,t){},849:function(e,t,n){},850:function(e,t,n){},859:function(e,t){},861:function(e,t){},892:function(e,t){},893:function(e,t){},912:function(e,t){},914:function(e,t){},916:function(e,t){},923:function(e,t){},925:function(e,t){},933:function(e,t){},935:function(e,t){}},[[573,1,2]]]);
//# sourceMappingURL=main.55644206.chunk.js.map